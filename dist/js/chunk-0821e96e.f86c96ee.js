(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0821e96e"],{a4c4:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"smartSearchPage"},[a("div",{staticClass:"smartSearchPage__setting",on:{click:function(t){e.openSearchBox=!e.openSearchBox}}},[a("strong",[e._v("查詢設定")])]),a("transition",{attrs:{name:"moveR"}},[e.openSearchBox?a("div",{staticClass:"smartSearchPage__searchBox"},[a("div",{staticClass:"smartSearchPage__searchBox--dateAndFrom"},[a("div",{staticClass:"datetime"},[a("label",[e._v("查詢日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"開始日期","end-placeholder":"結束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("div",{staticClass:"searchFrom"},[a("label",[e._v("查詢來源：")]),a("el-select",{attrs:{placeholder:"請選擇查詢來源","no-data-text":"無數據"},model:{value:e.searchFrom,callback:function(t){e.searchFrom=t},expression:"searchFrom"}},[a("el-option",{attrs:{label:"請選擇",value:""}}),e._l(e.searchList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.gKey,value:e.gKey}})}))],2)],1)]),a("div",{staticClass:"smartSearchPage__searchBox--searchStr"},[a("el-input",{model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.searchNews}},[e._v("搜尋")])],1)]):e._e()]),a("div",{staticClass:"smartSearchPage__listBox"},[a("div",{staticClass:"smartSearchPage__listBox--joinAnalysis"},[a("span",{on:{click:function(t){return e.goProjEdit()}}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),a("a",[e._v("加入專卷分析")])])]),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","empty-text":"暫無數據"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{label:"序號",type:"index",width:"50"}}),a("el-table-column",{attrs:{label:"新聞標題",prop:"newsTitle"}}),a("el-table-column",{attrs:{label:"新聞時間",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("moment")(t.row.newsTime,"YYYY-MM-DD HH:mm")))]}}])}),a("el-table-column",{attrs:{label:"新聞網站",prop:"newsUrl"}}),a("el-table-column",{attrs:{label:"新聞頻道",prop:"newsChannel",width:"100"}}),a("el-table-column",{attrs:{label:"情緒指標",prop:"sentiment",width:"100"}})],1)],1)],1)},n=[],i=(a("159b"),a("c1df")),l=a.n(i),r={data:function(){return{listQuery:{userId:1,sDate:"2021-01-01",eDate:"2021-12-31",query:"",nSite:"全部",nChannel:"全部",page:1,pageSize:10},openSearchBox:!0,dateRange:"",searchFrom:"",searchKeyword:"",searchList:[],tableData:[],multipleSelection:[]}},methods:{getSearchList:function(){var e=this,t={sDate:"2020-01-01",eDate:"2021-12-31"};this.$api.getNewsStatics(t).then((function(t){e.searchList=t.data}))},getList:function(){var e=this;this.$api.getNewsList(this.listQuery).then((function(t){e.tableData=t.data}))},searchNews:function(){this.dateRange||this.searchFrom||this.searchKeyword?this.listQuery={userId:1,sDate:this.dateRange?l()(this.dateRange[0]).format("YYYY-MM-DD"):"2020-01-01",eDate:this.dateRange?l()(this.dateRange[1]).format("YYYY-MM-DD"):"2021-12-31",query:this.searchKeyword,nSite:this.searchFrom,nChannel:"全部",page:1,pageSize:10}:(this.listQuery={userId:1,sDate:"2021-01-01",eDate:"2021-12-31",query:"",nSite:"全部",nChannel:"全部",page:1,pageSize:10},this.getList()),this.getList()},goProjEdit:function(){var e=this.$router.resolve({name:"projEdit"});window.open(e.href,"_blank")},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e}},mounted:function(){this.getSearchList(),this.getList()}},o=r,c=(a("f78d"),a("2877")),h=Object(c["a"])(o,s,n,!1,null,null,null);t["default"]=h.exports},c8f2:function(e,t,a){},f78d:function(e,t,a){"use strict";a("c8f2")}}]);
//# sourceMappingURL=chunk-0821e96e.f86c96ee.js.map